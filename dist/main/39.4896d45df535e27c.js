"use strict";(self.webpackChunkcliniva=self.webpackChunkcliniva||[]).push([[39],{95039:(q,R,r)=>{r.r(R),r.d(R,{DayOffsModule:()=>ze});var d=r(69808),_=r(93075),h=r(32075),l=r(86087),Z=r(67322),E=r(77531),w=r(57261),U=r(47423),k=r(25245),C=r(74107),p=r(48966),b=r(84847),M=r(34594),N=r(86856),g=r(79814),v=r(77446),s=r(21385),f=r(20773),O=r(5458),u=r(15626),m=r(1402),e=r(5e3),D=r(40520),T=r(61135),A=r(19186);let S=(()=>{class a extends A.n{constructor(t){super(),this.http=t,this.isTblLoading=!0,this.url="http://localhost:8082/api/day-offs/",this.dataChange=new T.X([]),this.dayOffStatusUpdated=new e.vpe}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllDayOffs(){this.subs.sink=this.http.get(this.url).subscribe(t=>{this.isTblLoading=!1,this.dataChange.next(t)},t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)})}getPendingDayOffs(){this.subs.sink=this.http.get(this.url+"pending").subscribe(t=>{this.isTblLoading=!1,this.dataChange.next(t)},t=>{this.isTblLoading=!1,console.log(t.name+" "+t.message)})}updateDayOffStatus(t,o,n){const c=this.url+`${t}/status`,y=(new D.LE).set("newStatus",o);this.http.put(c,null,{params:y}).subscribe(x=>{this.isTblLoading=!1,console.log(x),n(),this.dayOffStatusUpdated.emit()},x=>{console.log(x.name+" "+x.message)})}addDayOff(t){this.dialogData=t,this.http.post(this.url,t).subscribe(o=>{this.dialogData=t},o=>{})}updateDayOff(t){this.dialogData=t,this.http.put(this.url+t.id,t).subscribe(o=>{this.dialogData=t},o=>{})}deleteDayOff(t){console.log(t),this.http.delete(this.url+`${t}`).subscribe(o=>{console.log(t)},o=>{})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(D.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();var I=r(54004),P=r(20449),B=r(54968),F=r(56451);let Y=(()=>{class a{constructor(t,o,n){this.dialogRef=t,this.data=o,this.dayOffsService=n,this.statusUpdated=new e.vpe,this.dialogTitle="Day Off Details",this.dayOff=o.dayOff}onNoClick(){this.dialogRef.close()}onAcceptClick(t){this.dayOffsService.updateDayOffStatus(t,"approved",()=>{this.statusUpdated.emit("approved"),this.dialogRef.close()})}onRejectClick(t){this.dayOffsService.updateDayOffStatus(t,"rejected",()=>{this.statusUpdated.emit("rejected"),this.dialogRef.close()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(p.so),e.Y36(p.WI),e.Y36(S))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-day-off-details-dialog"]],decls:49,vars:17,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","msl-3","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content",""],[1,"container"],[1,"row"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","primary",3,"mat-dialog-close","click"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()()()(),e.TgZ(7,"button",6),e.NdJ("click",function(){return o.dialogRef.close()}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"p")(14,"strong"),e._uU(15,"Id:"),e.qZA(),e._uU(16),e.qZA()(),e.TgZ(17,"div",9)(18,"p")(19,"strong"),e._uU(20,"Nom:"),e.qZA(),e._uU(21),e.qZA()(),e.TgZ(22,"div",9)(23,"p")(24,"strong"),e._uU(25,"Email:"),e.qZA(),e._uU(26),e.qZA()(),e.TgZ(27,"div",9)(28,"p")(29,"strong"),e._uU(30,"Date:"),e.qZA(),e._uU(31),e.ALo(32,"date"),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",9)(35,"p")(36,"strong"),e._uU(37,"Reason:"),e.qZA(),e._uU(38),e.qZA()(),e.TgZ(39,"div",9)(40,"p")(41,"strong"),e._uU(42,"Status:"),e.qZA(),e._uU(43),e.qZA()()()(),e.TgZ(44,"div",10)(45,"button",11),e.NdJ("click",function(){return o.onAcceptClick(o.data.dayOff.id)}),e._uU(46," Accept "),e.qZA(),e.TgZ(47,"button",12),e.NdJ("click",function(){return o.onRejectClick(o.data.dayOff.id)}),e._uU(48," Reject "),e.qZA()()()),2&t&&(e.xp6(6),e.Oqu(o.dialogTitle),e.xp6(10),e.hij(" ",o.data.dayOff.id,""),e.xp6(5),e.AsE(" ",o.data.dayOff.user.nom," ",o.data.dayOff.user.prenom,""),e.xp6(5),e.hij(" ",o.data.dayOff.user.email,""),e.xp6(5),e.AsE(" From ",e.xi3(32,11,o.data.dayOff.startDate,"longDate")," to ",e.xi3(33,14,o.data.dayOff.endDate,"longDate"),""),e.xp6(7),e.hij(" ",o.data.dayOff.reason,""),e.xp6(5),e.hij(" ",o.data.dayOff.status,""),e.xp6(2),e.Q6J("mat-dialog-close",1),e.xp6(2),e.Q6J("mat-dialog-close",1))},directives:[U.lW,k.Hw,p.xY,p.H8,p.ZT],pipes:[d.uU],styles:[""]}),a})();var L=r(41299);const W=["filter"];function H(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Id"),e.qZA())}function z(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.Oqu(t.id)}}function X(a,i){1&a&&(e.TgZ(0,"mat-header-cell",45),e._uU(1," Image "),e.qZA()),2&a&&e.Q6J("ngClass","tbl-col-width-per-5")}function $(a,i){if(1&a&&(e.TgZ(0,"mat-cell",46),e._UZ(1,"img",47),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.Q6J("src",t.img,e.LSH)}}function V(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Nom Prenom"),e.qZA())}function G(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.user.nom," ",t.user.prenom," ")}}function K(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Status"),e.qZA())}function ee(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"div",48),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.hij(" ",t.status,"")}}function te(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Period"),e.qZA())}function ae(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" From ",e.xi3(2,2,t.startDate,"dd/MM/yyyy")," "),e.xp6(3),e.hij("To ",e.xi3(5,5,t.endDate,"dd/MM/yyyy"),"")}}function oe(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Reason"),e.qZA())}function ie(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"span",49),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.reason)}}function ne(a,i){1&a&&(e.TgZ(0,"mat-header-cell",50),e._uU(1,"Actions"),e.qZA())}function se(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51),e.NdJ("click",function(n){return n.stopPropagation()})("click",function(){const c=e.CHM(t).$implicit;return e.oxw().onAcceptClick(c.id)}),e._uU(2," Accept "),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(n){return n.stopPropagation()})("click",function(){const c=e.CHM(t).$implicit;return e.oxw().onRejectClick(c.id)}),e._uU(4," Reject "),e.qZA()()}}function re(a,i){1&a&&e._UZ(0,"mat-header-row")}function le(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-row",53),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().openDetailsDialog(c)}),e.qZA()}2&a&&e.Udp("cursor","pointer")}function de(a,i){1&a&&(e.TgZ(0,"div",54),e._UZ(1,"mat-progress-spinner",55),e.qZA()),2&a&&(e.xp6(1),e.Q6J("diameter",40))}function ce(a,i){if(1&a&&(e.TgZ(0,"div",56),e._uU(1," No results "),e.qZA()),2&a){const t=e.oxw();e.Udp("display",0==t.dataSource.renderedData.length?"":"none")}}const me=function(){return["Pendings"]},fe=function(){return[5,10,25,100]};let ue=(()=>{class a extends A.n{constructor(t,o,n,c){super(),this.httpClient=t,this.dialog=o,this.dayOffsService=n,this.snackBar=c,this.displayedColumns=["id","img","name","status","dateDebut","reason","actions"],this.selection=new P.Ov(!0,[])}ngOnInit(){this.loadData(),this.dayOffsService.dayOffStatusUpdated.subscribe(()=>{this.refreshTable()})}refresh(){this.loadData()}onAcceptClick(t){this.dayOffsService.updateDayOffStatus(t,"approved",()=>{this.refresh(),this.refreshTable()})}onRejectClick(t){this.dayOffsService.updateDayOffStatus(t,"rejected",()=>{this.refresh(),this.refreshTable()})}openDetailsDialog(t){const o=this.dialog.open(Y,{data:{dayOff:t}});o.afterClosed().subscribe(n=>{console.log("The dialog was closed")}),o.componentInstance.statusUpdated.subscribe(n=>{this.refresh(),this.refreshTable(),this.snackBar.open(`Day off ${n} successfully`,"Close",{duration:2e3})})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}loadData(){this.exampleDatabase=new S(this.httpClient),this.dataSource=new pe(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,B.R)(this.filter.nativeElement,"keyup").subscribe(()=>{!this.dataSource||(this.dataSource.filter=this.filter.nativeElement.value)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(D.eN),e.Y36(p.uw),e.Y36(S),e.Y36(w.ux))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-pending"]],viewQuery:function(t,o){if(1&t&&(e.Gf(l.NW,7),e.Gf(b.YE,7),e.Gf(W,7)),2&t){let n;e.iGM(n=e.CRH())&&(o.paginator=n.first),e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.filter=n.first)}},features:[e.qOj],decls:59,vars:14,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ms-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-5",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","dateDebut"],["matColumnDef","reason"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-5"],[3,"src"],[1,"badge"],[1,"truncate-text"],[1,"pr-0"],["mat-raised-button","","color","primary",1,"tbl-action-btn",3,"click"],["mat-raised-button","","color","warn",1,"tbl-action-btn",3,"click"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",4)(11,"div",10)(12,"ul",11)(13,"li",12)(14,"h2")(15,"strong"),e._uU(16,"Pending Day Offs"),e.qZA()()(),e.TgZ(17,"li",13)(18,"label",14)(19,"i",15),e._uU(20,"search"),e.qZA()(),e._UZ(21,"input",16,17),e.qZA()()(),e.TgZ(23,"div",18)(24,"ul",19)(25,"li")(26,"div",20)(27,"button",21),e.NdJ("click",function(){return o.refresh()}),e.TgZ(28,"mat-icon",22),e._uU(29,"refresh"),e.qZA()()()()()()()(),e.TgZ(30,"mat-table",23,24),e.ynx(32,25),e.YNc(33,H,2,0,"mat-header-cell",26),e.YNc(34,z,2,1,"mat-cell",27),e.BQk(),e.ynx(35,28),e.YNc(36,X,2,1,"mat-header-cell",29),e.YNc(37,$,2,1,"mat-cell",30),e.BQk(),e.ynx(38,31),e.YNc(39,V,2,0,"mat-header-cell",26),e.YNc(40,G,2,2,"mat-cell",27),e.BQk(),e.ynx(41,32),e.YNc(42,K,2,0,"mat-header-cell",26),e.YNc(43,ee,3,1,"mat-cell",27),e.BQk(),e.ynx(44,33),e.YNc(45,te,2,0,"mat-header-cell",26),e.YNc(46,ae,6,8,"mat-cell",27),e.BQk(),e.ynx(47,34),e.YNc(48,oe,2,0,"mat-header-cell",26),e.YNc(49,ie,3,1,"mat-cell",27),e.BQk(),e.ynx(50,35),e.YNc(51,ne,2,0,"mat-header-cell",36),e.YNc(52,se,5,0,"mat-cell",37),e.BQk(),e.YNc(53,re,1,0,"mat-header-row",38),e.YNc(54,le,1,2,"mat-row",39),e.qZA(),e.YNc(55,de,2,1,"div",40),e.YNc(56,ce,2,2,"div",41),e._UZ(57,"mat-paginator",42,43),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Q6J("title","Day Off")("items",e.DdM(12,me))("active_item","All Pending dayoffs"),e.xp6(27),e.Q6J("dataSource",o.dataSource),e.xp6(23),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",o.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!o.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(13,fe)))},directives:[L.L,U.lW,k.Hw,h.BZ,b.YE,h.w1,h.fO,h.ge,b.nU,h.Dz,h.ev,d.mk,h.as,h.XQ,h.nj,h.Gk,d.O5,f.Ou,l.NW],pipes:[d.uU],styles:[""]}),a})();class pe extends P.o2{constructor(i,t,o){super(),this.exampleDatabase=i,this.paginator=t,this._sort=o,this.filterChange=new T.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}get filter(){return this.filterChange.value}set filter(i){this.filterChange.next(i)}connect(){const i=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getPendingDayOffs(),console.log(this.renderedData),(0,F.T)(...i).pipe((0,I.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(n=>-1!==(n.user.nom+n.user.prenom+n.user.username+n.user.role).toLowerCase().indexOf(this.filter.toLowerCase()));const t=this.sortData(this.filteredData.slice());return this.renderedData=t.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(i){return this._sort.active&&""!==this._sort.direction?i.sort((t,o)=>{let n="",c="";switch(this._sort.active){case"id":[n,c]=[t.id,o.id];break;case"status":[n,c]=[t.status,o.status];break;case"reason":[n,c]=[t.reason,o.reason];break;case"startDate":[n,c]=[t.startDate,o.startDate];break;case"endDate":[n,c]=[t.endDate,o.endDate]}return((isNaN(+n)?n:+n)<(isNaN(+c)?c:+c)?-1:1)*("asc"===this._sort.direction?1:-1)}):i}}var he=r(1991);let ge=(()=>{class a{constructor(t,o,n){this.dialogRef=t,this.data=o,this.dayOffsService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.dayOffsService.deleteDayOff(this.data.id)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(p.so),e.Y36(p.WI),e.Y36(S))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-delete"]],decls:35,vars:6,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Are you sure?"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e._uU(8," Nom: "),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"li")(11,"p")(12,"span",4),e._uU(13," Prenom: "),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p")(17,"span",4),e._uU(18," Email: "),e.qZA(),e._uU(19),e.qZA()(),e.TgZ(20,"li")(21,"p")(22,"span",4),e._uU(23,"Date debut: "),e.qZA(),e._uU(24),e.qZA()(),e.TgZ(25,"li")(26,"p")(27,"span",4),e._uU(28,"Date fin: "),e.qZA(),e._uU(29),e.qZA()()()(),e.TgZ(30,"div",5)(31,"button",6),e.NdJ("click",function(){return o.confirmDelete()}),e._uU(32," Delete "),e.qZA(),e.TgZ(33,"button",7),e.NdJ("click",function(){return o.onNoClick()}),e._uU(34,"Cancel"),e.qZA()()()),2&t&&(e.xp6(9),e.Oqu(o.data.user.nom),e.xp6(5),e.Oqu(o.data.user.prenom),e.xp6(5),e.Oqu(o.data.email),e.xp6(5),e.hij("",o.data.startDate," "),e.xp6(5),e.hij("",o.data.endDate," "),e.xp6(2),e.Q6J("mat-dialog-close",1))},directives:[p.uh,p.xY,p.H8,U.lW,p.ZT],styles:[""]}),a})();var Q=r(90508);class J{constructor(i){this.startDate=new Date,this.endDate=new Date,this.id=i.id||"",this.startDate=i.startDate||"",this.endDate=i.endDate||"",this.reason=i.reason||"",this.status=i.status||null,this.user=i.user||""}}class _e{constructor(i){this.idUser=i.idUser||""}}var De=r(41782);function be(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Reason "),e.qZA())}function ve(a,i){if(1&a&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t.idUser),e.xp6(1),e.AsE("",t.nom," ",t.prenom,"")}}function ye(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please select date "),e.qZA())}function Ce(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please select date "),e.qZA())}let j=(()=>{class a{constructor(t,o,n,c,y,x){this.authService=t,this.dialogRef=o,this.data=n,this.dayOffService=c,this.fb=y,this.http=x,this.users=[],this.formControl=new _.NI("",[_.kI.required]),this.action=n.action,"edit"===this.action?(this.dayOff=n.dayOff,this.dialogTitle="edit dayoff "+this.dayOff.id):(this.dialogTitle="New DayOff",this.dayOff=new J({})),this.http.get("http://localhost:8082/User").subscribe(Xe=>{this.users=Xe,console.log(this.users)}),this.dayOffForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){const t=this.dayOff.startDate?(0,d.p6)(this.dayOff.startDate,"yyyy-MM-dd","en"):null,o=this.dayOff.endDate?(0,d.p6)(this.dayOff.endDate,"yyyy-MM-dd","en"):null;return console.log(this.dayOff.user),this.fb.group({id:[this.dayOff.id],startDate:[t,[_.kI.required]],endDate:[o,[_.kI.required]],user:[this.dayOff.user.idUser,[_.kI.required]],reason:[this.dayOff.reason],status:[this.dayOff.status]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){const t=this.dayOffForm.value,o=new J({id:t.id,startDate:new Date(t.startDate),endDate:new Date(t.endDate),user:new _e({idUser:t.user}),reason:t.reason,status:t.status});"edit"===this.action&&this.dayOffService.updateDayOff(o),this.dayOffService.addDayOff(o)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(De.e),e.Y36(p.so),e.Y36(p.WI),e.Y36(S),e.Y36(_.qu),e.Y36(D.eN))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-form-dialog"]],features:[e._Bn([{provide:Q.Ad,useValue:"en-GB"}])],decls:61,vars:16,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","msl-3","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","reason","required","","rows","4"],[4,"ngIf"],["formControlName","user","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","endDate",3,"matDatepicker"],["pickerTo",""],["formControlName","status"],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"type","disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()()()(),e.TgZ(7,"button",6),e.NdJ("click",function(){return o.dialogRef.close()}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return o.submit}),e.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Reason"),e.qZA(),e._UZ(16,"textarea",11),e.YNc(17,be,2,0,"mat-error",12),e.qZA()(),e.TgZ(18,"div",9)(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"User"),e.qZA(),e.TgZ(22,"mat-select",13),e.YNc(23,ve,2,3,"mat-option",14),e.qZA()()(),e.TgZ(24,"div",9)(25,"div",15)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Choose a date"),e.qZA(),e._UZ(29,"input",16)(30,"mat-datepicker-toggle",17)(31,"mat-datepicker",null,18),e.YNc(33,ye,2,0,"mat-error",12),e.qZA()(),e.TgZ(34,"div",15)(35,"mat-form-field",10)(36,"mat-label"),e._uU(37,"Choose a date"),e.qZA(),e._UZ(38,"input",19)(39,"mat-datepicker-toggle",17)(40,"mat-datepicker",null,20),e.YNc(42,Ce,2,0,"mat-error",12),e.qZA()()(),e.TgZ(43,"div",9)(44,"mat-form-field",10)(45,"mat-label"),e._uU(46,"Status"),e.qZA(),e.TgZ(47,"mat-select",21)(48,"mat-option",22),e._uU(49," Pending "),e.qZA(),e.TgZ(50,"mat-option",22),e._uU(51," Approved "),e.qZA(),e.TgZ(52,"mat-option",22),e._uU(53," Rejected "),e.qZA()()()(),e.TgZ(54,"div",9)(55,"div",23)(56,"div",24)(57,"button",25),e.NdJ("click",function(){return o.confirmAdd()}),e._uU(58,"Save"),e.qZA(),e.TgZ(59,"button",26),e.NdJ("click",function(){return o.onNoClick()}),e._uU(60,"Cancel"),e.qZA()()()()()()()),2&t){const n=e.MAs(32),c=e.MAs(41);e.xp6(6),e.hij(" ",o.dialogTitle,""),e.xp6(5),e.Q6J("formGroup",o.dayOffForm),e.xp6(6),e.Q6J("ngIf",o.dayOffForm.get("reason").hasError("required")),e.xp6(6),e.Q6J("ngForOf",o.users),e.xp6(6),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(3),e.Q6J("ngIf",o.dayOffForm.get("startDate").hasError("required")),e.xp6(5),e.Q6J("matDatepicker",c),e.xp6(1),e.Q6J("for",c),e.xp6(3),e.Q6J("ngIf",o.dayOffForm.get("endDate").hasError("required")),e.xp6(6),e.Q6J("value","pending"),e.xp6(2),e.Q6J("value","approved"),e.xp6(2),e.Q6J("value","rejected"),e.xp6(5),e.Q6J("type",o.submit)("disabled",!o.dayOffForm.valid)("mat-dialog-close",1)}},directives:[U.lW,k.Hw,p.xY,_._Y,_.JL,_.sg,Z.KE,Z.hX,E.Nt,_.Fj,_.JJ,_.u,_.Q7,d.O5,Z.TO,C.gD,d.sg,Q.ey,N.hl,N.nW,Z.R9,N.Mq,p.ZT],styles:[""]}),a})();const Te=["filter"];function Ae(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Id"),e.qZA())}function xe(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.Oqu(t.id)}}function Ze(a,i){1&a&&(e.TgZ(0,"mat-header-cell",45),e._uU(1," Image "),e.qZA()),2&a&&e.Q6J("ngClass","tbl-col-width-per-5")}function Oe(a,i){if(1&a&&(e.TgZ(0,"mat-cell",46),e._UZ(1,"img",47),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.Q6J("src",t.img,e.LSH)}}function ke(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Nom Prenom"),e.qZA())}function Me(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.user.nom," ",t.user.prenom," ")}}function we(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Status"),e.qZA())}function Ue(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"div",48),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.hij(" ",t.status,"")}}function Se(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Period"),e.qZA())}function Ee(a,i){if(1&a&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" From ",e.xi3(2,2,t.startDate,"dd/MM/yyyy")," "),e.xp6(3),e.hij("To ",e.xi3(5,5,t.endDate,"dd/MM/yyyy"),"")}}function Ne(a,i){1&a&&(e.TgZ(0,"mat-header-cell",44),e._uU(1,"Reason"),e.qZA())}function Re(a,i){if(1&a&&(e.TgZ(0,"mat-cell")(1,"span",49),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.Oqu(t.reason)}}function Pe(a,i){1&a&&(e.TgZ(0,"mat-header-cell",50),e._uU(1,"Actions"),e.qZA())}function Ie(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-cell",50)(1,"button",51),e.NdJ("click",function(n){return n.stopPropagation()})("click",function(){const c=e.CHM(t).$implicit;return e.oxw().editCall(c)}),e._uU(2," Edit "),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(n){return n.stopPropagation()})("click",function(){const c=e.CHM(t).$implicit;return e.oxw().deleteItem(c)}),e._uU(4," Delete "),e.qZA()()}}function Be(a,i){1&a&&e._UZ(0,"mat-header-row")}function qe(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"mat-row",53),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().openDetailsDialog(c)}),e.qZA()}2&a&&e.Udp("cursor","pointer")}function Fe(a,i){1&a&&(e.TgZ(0,"div",54),e._UZ(1,"mat-progress-spinner",55),e.qZA()),2&a&&(e.xp6(1),e.Q6J("diameter",40))}function Ye(a,i){if(1&a&&(e.TgZ(0,"div",56),e._uU(1," No results "),e.qZA()),2&a){const t=e.oxw();e.Udp("display",0==t.dataSource.renderedData.length?"":"none")}}const Le=function(){return["Pendings"]},Qe=function(){return[5,10,25,100]};let Je=(()=>{class a extends A.n{constructor(t,o,n,c){super(),this.httpClient=t,this.dialog=o,this.dayOffsService=n,this.snackBar=c,this.displayedColumns=["id","img","name","status","dateDebut","reason","actions"],this.selection=new P.Ov(!0,[])}ngOnInit(){this.loadData(),this.dayOffsService.dayOffStatusUpdated.subscribe(()=>{this.refreshTable()})}refresh(){this.loadData()}openDetailsDialog(t){this.dialog.open(Y,{data:{dayOff:t}}).afterClosed().subscribe(n=>{console.log("The dialog was closed")})}showNotification(t,o,n,c){this.snackBar.open(o,"",{duration:2e3,verticalPosition:n,horizontalPosition:c,panelClass:t})}deleteItem(t){let o;this.id=t.id,o="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const n=this.dialog.open(ge,{data:t,direction:o});this.subs.sink=n.afterClosed().subscribe(c=>{if(1===c){const y=this.exampleDatabase.dataChange.value.findIndex(x=>x.id===this.id);this.exampleDatabase.dataChange.value.splice(y,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center")}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}addNew(){let t;t="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const o=this.dialog.open(j,{data:{dayOff:this.dayOff,action:"add"},direction:t});this.subs.sink=o.afterClosed().subscribe(n=>{1===n&&(this.exampleDatabase.dataChange.value.unshift(this.dayOffsService.getDialogData()),this.refresh(),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(t){let o;this.id=t.id,o="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const n=this.dialog.open(j,{data:{dayOff:t,action:"edit"},direction:o});this.subs.sink=n.afterClosed().subscribe(c=>{if(1===c){const y=this.exampleDatabase.dataChange.value.findIndex(x=>x.id===this.id);this.exampleDatabase.dataChange.value[y]=this.dayOffsService.getDialogData(),this.refresh(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center")}})}loadData(){this.exampleDatabase=new S(this.httpClient),this.dataSource=new je(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,B.R)(this.filter.nativeElement,"keyup").subscribe(()=>{!this.dataSource||(this.dataSource.filter=this.filter.nativeElement.value)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(D.eN),e.Y36(p.uw),e.Y36(S),e.Y36(w.ux))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-all-day-offs"]],viewQuery:function(t,o){if(1&t&&(e.Gf(l.NW,7),e.Gf(b.YE,7),e.Gf(Te,7)),2&t){let n;e.iGM(n=e.CRH())&&(o.paginator=n.first),e.iGM(n=e.CRH())&&(o.sort=n.first),e.iGM(n=e.CRH())&&(o.filter=n.first)}},features:[e.qOj],decls:64,vars:14,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ms-0"],[1,"dropdown"],[1,"dropdown","m-l-20"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"col-4"],[1,"header-buttons"],[1,"icon-button-demo"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-5",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","dateDebut"],["matColumnDef","reason"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-5"],[3,"src"],[1,"badge"],[1,"truncate-text"],[1,"pr-0"],["mat-raised-button","","color","primary",1,"tbl-action-btn",3,"click"],["mat-raised-button","","color","warn",1,"tbl-action-btn",3,"click"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",4)(11,"div",10)(12,"ul",11)(13,"li",12)(14,"h2")(15,"strong"),e._uU(16,"Day Offs"),e.qZA()()(),e.TgZ(17,"li",13)(18,"label",14)(19,"i",15),e._uU(20,"search"),e.qZA()(),e._UZ(21,"input",16,17),e.qZA()()(),e.TgZ(23,"div",18)(24,"ul",19)(25,"li")(26,"div",20)(27,"button",21),e.NdJ("click",function(){return o.addNew()}),e.TgZ(28,"mat-icon",22),e._uU(29,"add"),e.qZA()()()(),e.TgZ(30,"li")(31,"div",20)(32,"button",21),e.NdJ("click",function(){return o.refresh()}),e.TgZ(33,"mat-icon",22),e._uU(34,"refresh"),e.qZA()()()()()()()(),e.TgZ(35,"mat-table",23,24),e.ynx(37,25),e.YNc(38,Ae,2,0,"mat-header-cell",26),e.YNc(39,xe,2,1,"mat-cell",27),e.BQk(),e.ynx(40,28),e.YNc(41,Ze,2,1,"mat-header-cell",29),e.YNc(42,Oe,2,1,"mat-cell",30),e.BQk(),e.ynx(43,31),e.YNc(44,ke,2,0,"mat-header-cell",26),e.YNc(45,Me,2,2,"mat-cell",27),e.BQk(),e.ynx(46,32),e.YNc(47,we,2,0,"mat-header-cell",26),e.YNc(48,Ue,3,1,"mat-cell",27),e.BQk(),e.ynx(49,33),e.YNc(50,Se,2,0,"mat-header-cell",26),e.YNc(51,Ee,6,8,"mat-cell",27),e.BQk(),e.ynx(52,34),e.YNc(53,Ne,2,0,"mat-header-cell",26),e.YNc(54,Re,3,1,"mat-cell",27),e.BQk(),e.ynx(55,35),e.YNc(56,Pe,2,0,"mat-header-cell",36),e.YNc(57,Ie,5,0,"mat-cell",37),e.BQk(),e.YNc(58,Be,1,0,"mat-header-row",38),e.YNc(59,qe,1,2,"mat-row",39),e.qZA(),e.YNc(60,Fe,2,1,"div",40),e.YNc(61,Ye,2,2,"div",41),e._UZ(62,"mat-paginator",42,43),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Q6J("title","Day Off")("items",e.DdM(12,Le))("active_item","All Pending dayoffs"),e.xp6(32),e.Q6J("dataSource",o.dataSource),e.xp6(23),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",o.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!o.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(13,Qe)))},directives:[L.L,U.lW,k.Hw,h.BZ,b.YE,h.w1,h.fO,h.ge,b.nU,h.Dz,h.ev,d.mk,h.as,h.XQ,h.nj,h.Gk,d.O5,f.Ou,l.NW],pipes:[d.uU],styles:[""]}),a})();class je extends P.o2{constructor(i,t,o){super(),this.exampleDatabase=i,this.paginator=t,this._sort=o,this.filterChange=new T.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}get filter(){return this.filterChange.value}set filter(i){this.filterChange.next(i)}connect(){const i=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllDayOffs(),console.log(this.renderedData),(0,F.T)(...i).pipe((0,I.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(n=>-1!==(n.user.nom+n.user.prenom+n.user.username+n.user.role).toLowerCase().indexOf(this.filter.toLowerCase()));const t=this.sortData(this.filteredData.slice());return this.renderedData=t.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(i){return this._sort.active&&""!==this._sort.direction?i.sort((t,o)=>{let n="",c="";switch(this._sort.active){case"id":[n,c]=[t.id,o.id];break;case"status":[n,c]=[t.status,o.status];break;case"reason":[n,c]=[t.reason,o.reason];break;case"startDate":[n,c]=[t.startDate,o.startDate];break;case"endDate":[n,c]=[t.endDate,o.endDate]}return((isNaN(+n)?n:+n)<(isNaN(+c)?c:+c)?-1:1)*("asc"===this._sort.direction?1:-1)}):i}}const We=[{path:"pending",component:ue},{path:"all-day-offs",component:Je},{path:"**",component:he.J}];let He=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[m.Bz.forChild(We)],m.Bz]}),a})(),ze=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[S],imports:[[f.Cq,s.Ad,v.p9,g.Fk,h.p0,l.TU,Z.lN,E.c,w.ZX,U.ot,k.Ps,p.Is,b.JX,M.g0,C.LD,N.FA,d.ez,He,O.m,u.K,_.u5,_.UX,k.Ps,E.c]]}),a})()},20773:(q,R,r)=>{r.d(R,{Ou:()=>s,Cq:()=>f});var d=r(63191),_=r(70925),h=r(69808),l=r(5e3),Z=r(90508),E=r(76360),w=r(50727),U=r(29071);function k(u,m){if(1&u&&(l.O4$(),l._UZ(0,"circle",4)),2&u){const e=l.oxw(),D=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(D)),l.uIk("r",e._getCircleRadius())}}function C(u,m){if(1&u&&(l.O4$(),l._UZ(0,"circle",4)),2&u){const e=l.oxw(),D=l.MAs(1);l.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(D)),l.uIk("r",e._getCircleRadius())}}const M=(0,Z.pj)(class{constructor(u){this._elementRef=u}},"primary"),N=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function g(){return{diameter:100}}});class s extends M{constructor(m,e,D,T,A,S,I,P){super(m),this._document=D,this._diameter=100,this._value=0,this._resizeSubscription=w.w0.EMPTY,this.mode="determinate";const B=s._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),B.has(D.head)||B.set(D.head,new Set([100])),this._noopAnimations="NoopAnimations"===T&&!!A&&!A._forceAnimations,"mat-spinner"===m.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),A&&(A.diameter&&(this.diameter=A.diameter),A.strokeWidth&&(this.strokeWidth=A.strokeWidth)),e.isBrowser&&e.SAFARI&&I&&S&&P&&(this._resizeSubscription=I.change(150).subscribe(()=>{"indeterminate"===this.mode&&P.run(()=>S.markForCheck())}))}get diameter(){return this._diameter}set diameter(m){this._diameter=(0,d.su)(m),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(m){this._strokeWidth=(0,d.su)(m)}get value(){return"determinate"===this.mode?this._value:0}set value(m){this._value=Math.max(0,Math.min(100,(0,d.su)(m)))}ngOnInit(){const m=this._elementRef.nativeElement;this._styleRoot=(0,_.kV)(m)||this._document.head,this._attachStyleNode(),m.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const m=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${m} ${m}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(m){var e;const D=50*(null!==(e=m.currentScale)&&void 0!==e?e:1);return`${D}% ${D}%`}_attachStyleNode(){const m=this._styleRoot,e=this._diameter,D=s._diameters;let T=D.get(m);if(!T||!T.has(e)){const A=this._document.createElement("style");A.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),A.textContent=this._getAnimationText(),m.appendChild(A),T||(T=new Set,D.set(m,T)),T.add(e)}}_getAnimationText(){const m=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*m).replace(/END_VALUE/g,""+.2*m).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}s._diameters=new WeakMap,s.\u0275fac=function(m){return new(m||s)(l.Y36(l.SBq),l.Y36(_.t4),l.Y36(h.K0,8),l.Y36(E.Qb,8),l.Y36(N),l.Y36(l.sBO),l.Y36(U.rL),l.Y36(l.R0b))},s.\u0275cmp=l.Xpm({type:s,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(m,e){2&m&&(l.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(m,e){1&m&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,k,1,11,"circle",2),l.YNc(3,C,1,9,"circle",3),l.qZA()),2&m&&(l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===e.mode),l.uIk("viewBox",e._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},directives:[h.RF,h.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let f=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[[Z.BQ,h.ez],Z.BQ]}),u})()},34594:(q,R,r)=>{r.d(R,{g0:()=>k});var d=r(5e3),_=r(90508);let k=(()=>{class C{}return C.\u0275fac=function(b){return new(b||C)},C.\u0275mod=d.oAB({type:C}),C.\u0275inj=d.cJS({imports:[[_.BQ],_.BQ]}),C})()},21385:(q,R,r)=>{r.d(R,{Yh:()=>C,Ad:()=>M});var d=r(5e3),_=r(15664),h=r(67322),l=r(63191),Z=r(90508),E=r(93075);class w{constructor(v,s=", "){this._files=v,this.delimiter=s,this._fileNames=(this._files||[]).map(f=>f.name).join(s)}get files(){return this._files||[]}get fileNames(){return this._fileNames}}const k=(0,Z.FD)(class U{constructor(v,s,f,O){this._defaultErrorStateMatcher=v,this._parentForm=s,this._parentFormGroup=f,this.ngControl=O}});let C=(()=>{class g extends k{constructor(s,f,O,u,m,e,D){super(u,e,D,m),this.fm=s,this._elementRef=f,this._renderer=O,this._defaultErrorStateMatcher=u,this.ngControl=m,this._parentForm=e,this._parentFormGroup=D,this.focused=!1,this.controlType="file-input",this.autofilled=!1,this._required=!1,this.accept=null,this.id="ngx-mat-file-input-"+g.nextId++,this.describedBy="",this._onChange=T=>{},this._onTouched=()=>{},null!=this.ngControl&&(this.ngControl.valueAccessor=this),s.monitor(f.nativeElement,!0).subscribe(T=>{this.focused=!!T,this.stateChanges.next()})}setDescribedByIds(s){this.describedBy=s.join(" ")}get value(){return this.empty?null:new w(this._elementRef.nativeElement.value||[])}set value(s){s&&(this.writeValue(s),this.stateChanges.next())}get multiple(){return this._multiple}set multiple(s){this._multiple=(0,l.Ig)(s),this.stateChanges.next()}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.stateChanges.next()}get empty(){return!this._elementRef.nativeElement.value||0===this._elementRef.nativeElement.value.length}get shouldLabelFloat(){return this.focused||!this.empty||void 0!==this.valuePlaceholder}get required(){return this._required}set required(s){this._required=(0,l.Ig)(s),this.stateChanges.next()}get isDisabled(){return this.disabled}get disabled(){return this._elementRef.nativeElement.disabled}set disabled(s){this.setDisabledState((0,l.Ig)(s)),this.stateChanges.next()}onContainerClick(s){"input"!==s.target.tagName.toLowerCase()&&!this.disabled&&(this._elementRef.nativeElement.querySelector("input").focus(),this.focused=!0,this.open())}get fileNames(){return this.value?this.value.fileNames:this.valuePlaceholder}writeValue(s){this._renderer.setProperty(this._elementRef.nativeElement,"value",s instanceof w?s.files:null)}registerOnChange(s){this._onChange=s}registerOnTouched(s){this._onTouched=s}clear(s){s&&(s.preventDefault(),s.stopPropagation()),this.value=new w([]),this._elementRef.nativeElement.querySelector("input").value=null,this._onChange(this.value)}change(s){const f=s.target.files,O=[];if(f)for(let u=0;u<f.length;u++)O.push(f[u]);this.value=new w(O),this._onChange(this.value)}blur(){this.focused=!1,this._onTouched()}setDisabledState(s){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",s)}ngOnInit(){this.multiple=(0,l.Ig)(this.multiple)}open(){this.disabled||this._elementRef.nativeElement.querySelector("input").click()}ngOnDestroy(){this.stateChanges.complete(),this.fm.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState()}}return g.nextId=0,g.\u0275fac=function(s){return new(s||g)(d.Y36(_.tE),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Z.rD),d.Y36(E.a5,10),d.Y36(E.F,8),d.Y36(E.sg,8))},g.\u0275cmp=d.Xpm({type:g,selectors:[["ngx-mat-file-input"]],hostVars:6,hostBindings:function(s,f){1&s&&d.NdJ("change",function(u){return f.change(u)})("focusout",function(){return f.blur()}),2&s&&(d.Ikx("id",f.id),d.uIk("aria-describedby",f.describedBy),d.ekj("mat-form-field-should-float",f.shouldLabelFloat)("file-input-disabled",f.isDisabled))},inputs:{autofilled:"autofilled",valuePlaceholder:"valuePlaceholder",accept:"accept",errorStateMatcher:"errorStateMatcher",value:"value",multiple:"multiple",placeholder:"placeholder",required:"required",disabled:"disabled"},features:[d._Bn([{provide:h.Eo,useExisting:g}]),d.qOj],decls:4,vars:4,consts:[["type","file"],["input",""],[1,"filename",3,"title"]],template:function(s,f){1&s&&(d._UZ(0,"input",0,1),d.TgZ(2,"span",2),d._uU(3),d.qZA()),2&s&&(d.uIk("multiple",f.multiple?"":null)("accept",f.accept),d.xp6(2),d.Q6J("title",f.fileNames),d.xp6(1),d.Oqu(f.fileNames))},styles:["[_nghost-%COMP%]{display:inline-block;width:100%}[_nghost-%COMP%]:not(.file-input-disabled){cursor:pointer}input[_ngcontent-%COMP%]{width:0px;height:0px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.filename[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),g})();new d.OlP("ngx-mat-file-input.config");let M=(()=>{class g{}return g.\u0275fac=function(s){return new(s||g)},g.\u0275mod=d.oAB({type:g}),g.\u0275inj=d.cJS({providers:[_.tE]}),g})()}}]);